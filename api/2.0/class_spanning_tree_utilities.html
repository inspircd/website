<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>InspIRCd: SpanningTreeUtilities Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">InspIRCd
   &#160;<span id="projectnumber">2.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a>  </div>
  <div class="headertitle">
<div class="title">SpanningTreeUtilities Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="utils_8h_source.html">utils.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for SpanningTreeUtilities:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_spanning_tree_utilities.png" usemap="#SpanningTreeUtilities_map" alt=""/>
  <map id="SpanningTreeUtilities_map" name="SpanningTreeUtilities_map">
<area href="classclassbase.html" alt="classbase" shape="rect" coords="0,0,130,24"/>
</map>
 </div></div>

<p><a href="class_spanning_tree_utilities-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a09edb4bd5bb20681f90463e18e0daa03"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spanning_tree_utilities.html#a09edb4bd5bb20681f90463e18e0daa03">SpanningTreeUtilities</a> (<a class="el" href="class_module_spanning_tree.html">ModuleSpanningTree</a> *<a class="el" href="class_spanning_tree_utilities.html#a9aea92b8c85a44c4cb27ac4a93d92cbc">Creator</a>)</td></tr>
<tr class="memitem:a88c5ca5093902b23140966b3b15f489f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_cull_result.html">CullResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spanning_tree_utilities.html#a88c5ca5093902b23140966b3b15f489f">cull</a> ()</td></tr>
<tr class="memitem:aae3a50788deb3d454163953be9669ca9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spanning_tree_utilities.html#aae3a50788deb3d454163953be9669ca9">~SpanningTreeUtilities</a> ()</td></tr>
<tr class="memitem:acd475e3797001c3db6572b79c0a0ede9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acd475e3797001c3db6572b79c0a0ede9"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>RouteCommand</b> (<a class="el" href="class_tree_server.html">TreeServer</a> *, const std::string &amp;, const parameterlist &amp;, <a class="el" href="class_user.html">User</a> *)</td></tr>
<tr class="memitem:aa655b2933d521242f9a56fd19563ab56"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spanning_tree_utilities.html#aa655b2933d521242f9a56fd19563ab56">DoOneToOne</a> (const std::string &amp;prefix, const std::string &amp;command, const parameterlist &amp;params, std::string target)</td></tr>
<tr class="memitem:ab7a5aa399f7d8ded37548dafffb99188"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spanning_tree_utilities.html#ab7a5aa399f7d8ded37548dafffb99188">DoOneToAllButSender</a> (const std::string &amp;prefix, const std::string &amp;command, const parameterlist &amp;params, std::string omit)</td></tr>
<tr class="memitem:a598276cec12ffe954a28f0a5ca49deb4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spanning_tree_utilities.html#a598276cec12ffe954a28f0a5ca49deb4">DoOneToAllButSender</a> (const char *prefix, const char *command, const parameterlist &amp;params, std::string omit)</td></tr>
<tr class="memitem:aeec63a67910a1e282eca6df48e7a9f26"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spanning_tree_utilities.html#aeec63a67910a1e282eca6df48e7a9f26">DoOneToMany</a> (const std::string &amp;prefix, const std::string &amp;command, const parameterlist &amp;params)</td></tr>
<tr class="memitem:a9a06f91e80ace22f72fd3a21b771e4f5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spanning_tree_utilities.html#a9a06f91e80ace22f72fd3a21b771e4f5">DoOneToMany</a> (const char *prefix, const char *command, const parameterlist &amp;params)</td></tr>
<tr class="memitem:acd89919a2ba8eb17e6b1aa546b2bfb2b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spanning_tree_utilities.html#acd89919a2ba8eb17e6b1aa546b2bfb2b">DoOneToAllButSenderRaw</a> (const std::string &amp;data, const std::string &amp;omit, const std::string &amp;prefix, const <a class="el" href="namespaceirc.html#ac483e0dbe45f845c6e0b2242139b4f61">irc::string</a> &amp;command, const parameterlist &amp;params)</td></tr>
<tr class="memitem:a39368ab6f03f55c62a29e8959a47c8fb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spanning_tree_utilities.html#a39368ab6f03f55c62a29e8959a47c8fb">ReadConfiguration</a> ()</td></tr>
<tr class="memitem:aa41c9fe8514dfbd9727c5f0150b54514"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spanning_tree_utilities.html#aa41c9fe8514dfbd9727c5f0150b54514">AddThisServer</a> (<a class="el" href="class_tree_server.html">TreeServer</a> *server, TreeServerList &amp;list)</td></tr>
<tr class="memitem:a31aa1b3e83218192abb5b700b698670e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spanning_tree_utilities.html#a31aa1b3e83218192abb5b700b698670e">GetListOfServersForChannel</a> (<a class="el" href="class_channel.html">Channel</a> *c, TreeServerList &amp;list, char status, const CUList &amp;exempt_list)</td></tr>
<tr class="memitem:ad905bfd560161c9bb778c8b4e38f48d8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_tree_server.html">TreeServer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spanning_tree_utilities.html#ad905bfd560161c9bb778c8b4e38f48d8">FindServer</a> (const std::string &amp;ServerName)</td></tr>
<tr class="memitem:a5e94298ad917c8b19c622f245e2291a3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_tree_server.html">TreeServer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spanning_tree_utilities.html#a5e94298ad917c8b19c622f245e2291a3">FindServerID</a> (const std::string &amp;id)</td></tr>
<tr class="memitem:a1d05fc9102a2facaade021a6330b372a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_tree_server.html">TreeServer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spanning_tree_utilities.html#a1d05fc9102a2facaade021a6330b372a">BestRouteTo</a> (const std::string &amp;ServerName)</td></tr>
<tr class="memitem:aa3bea304a171eb8dead5cb668ad0aae6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_tree_server.html">TreeServer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spanning_tree_utilities.html#aa3bea304a171eb8dead5cb668ad0aae6">FindServerMask</a> (const std::string &amp;ServerName)</td></tr>
<tr class="memitem:af939849f718a0fe013e9e2c96043bd27"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spanning_tree_utilities.html#af939849f718a0fe013e9e2c96043bd27">IsServer</a> (const std::string &amp;ServerName)</td></tr>
<tr class="memitem:a941756e0eefd49ea183f08e0d83383eb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_link.html">Link</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spanning_tree_utilities.html#a941756e0eefd49ea183f08e0d83383eb">FindLink</a> (const std::string &amp;name)</td></tr>
<tr class="memitem:a9a8e2f9acd652f02b5d607920c5c07f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spanning_tree_utilities.html#a9a8e2f9acd652f02b5d607920c5c07f6">RefreshIPCache</a> ()</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a9aea92b8c85a44c4cb27ac4a93d92cbc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_module_spanning_tree.html">ModuleSpanningTree</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spanning_tree_utilities.html#a9aea92b8c85a44c4cb27ac4a93d92cbc">Creator</a></td></tr>
<tr class="memitem:ad525a8a94f220964ce87eb9ab8a268c4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spanning_tree_utilities.html#ad525a8a94f220964ce87eb9ab8a268c4">FlatLinks</a></td></tr>
<tr class="memitem:a86d3d04ed943d233d4d4d59cfc97d314"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spanning_tree_utilities.html#a86d3d04ed943d233d4d4d59cfc97d314">HideULines</a></td></tr>
<tr class="memitem:ad504d7ee5f15461d32c397af2178af10"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spanning_tree_utilities.html#ad504d7ee5f15461d32c397af2178af10">AnnounceTSChange</a></td></tr>
<tr class="memitem:a02b7dfeb39d9cd29e565c5bfb0acadef"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spanning_tree_utilities.html#a02b7dfeb39d9cd29e565c5bfb0acadef">AllowOptCommon</a></td></tr>
<tr class="memitem:a0f6701d1cf77a8bacec0cab4fd509589"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spanning_tree_utilities.html#a0f6701d1cf77a8bacec0cab4fd509589">quiet_bursts</a></td></tr>
<tr class="memitem:ab3d232f18577a65697c620605ded0e75"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab3d232f18577a65697c620605ded0e75"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>PingWarnTime</b></td></tr>
<tr class="memitem:a7b581f72a0b90799e899084d9e31a506"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_tree_server.html">TreeServer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spanning_tree_utilities.html#a7b581f72a0b90799e899084d9e31a506">TreeRoot</a></td></tr>
<tr class="memitem:ac230d6bd52727a878dd3bf6f949baf30"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spanning_tree_utilities.html#ac230d6bd52727a878dd3bf6f949baf30">ValidIPs</a></td></tr>
<tr class="memitem:ac460e9a5ac250d5c0432fd765b4859e0"><td class="memItemLeft" align="right" valign="top">server_hash&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spanning_tree_utilities.html#ac460e9a5ac250d5c0432fd765b4859e0">serverlist</a></td></tr>
<tr class="memitem:aff74a2b5670e0dc9f04819aa714c1a1c"><td class="memItemLeft" align="right" valign="top">server_hash&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spanning_tree_utilities.html#aff74a2b5670e0dc9f04819aa714c1a1c">sidlist</a></td></tr>
<tr class="memitem:ab22a76e135bd9c3f2ac17a4334df645d"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="namespaceirc.html#ac483e0dbe45f845c6e0b2242139b4f61">irc::string</a>, <br class="typebreak"/>
<a class="el" href="class_tree_socket.html">TreeSocket</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spanning_tree_utilities.html#ab22a76e135bd9c3f2ac17a4334df645d">burstingserverlist</a></td></tr>
<tr class="memitem:a7f2a1475b601979189b3bd938f237e21"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="class_tree_socket.html">TreeSocket</a> <br class="typebreak"/>
*, std::pair&lt; std::string, int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spanning_tree_utilities.html#a7f2a1475b601979189b3bd938f237e21">timeoutlist</a></td></tr>
<tr class="memitem:ad094decf98db96e052b355508aa474c6"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classreference.html">reference</a>&lt; <a class="el" href="class_link.html">Link</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spanning_tree_utilities.html#ad094decf98db96e052b355508aa474c6">LinkBlocks</a></td></tr>
<tr class="memitem:a4ca00bef3e8b15483f59a05619b31943"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classreference.html">reference</a><br class="typebreak"/>
&lt; <a class="el" href="class_autoconnect.html">Autoconnect</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spanning_tree_utilities.html#a4ca00bef3e8b15483f59a05619b31943">AutoconnectBlocks</a></td></tr>
<tr class="memitem:ae83d159d3f474930c493fa95a5158cdc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spanning_tree_utilities.html#ae83d159d3f474930c493fa95a5158cdc">ChallengeResponse</a></td></tr>
<tr class="memitem:a231eda3304ae4f1ba39578b89d0bb181"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_spanning_tree_utilities.html#a231eda3304ae4f1ba39578b89d0bb181">PingFreq</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Contains helper functions and variables for this module, and keeps them out of the global namespace </p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a09edb4bd5bb20681f90463e18e0daa03"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SpanningTreeUtilities::SpanningTreeUtilities </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_module_spanning_tree.html">ModuleSpanningTree</a> *&#160;</td>
          <td class="paramname"><em>Creator</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialise utility class </p>

</div>
</div>
<a class="anchor" id="aae3a50788deb3d454163953be9669ca9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SpanningTreeUtilities::~SpanningTreeUtilities </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy class and free listeners etc </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aa41c9fe8514dfbd9727c5f0150b54514"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpanningTreeUtilities::AddThisServer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_tree_server.html">TreeServer</a> *&#160;</td>
          <td class="paramname"><em>server</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TreeServerList &amp;&#160;</td>
          <td class="paramname"><em>list</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a server to the server list for GetListOfServersForChannel </p>

</div>
</div>
<a class="anchor" id="a1d05fc9102a2facaade021a6330b372a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_tree_server.html">TreeServer</a> * SpanningTreeUtilities::BestRouteTo </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>ServerName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find a route to a server by name</p>
<p>Returns the locally connected server we must route a message through to reach server 'ServerName'. This only applies to one-to-one and not one-to-many routing. See the comments for the constructor of <a class="el" href="class_tree_server.html">TreeServer</a> for more details. </p>

</div>
</div>
<a class="anchor" id="a88c5ca5093902b23140966b3b15f489f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cull_result.html">CullResult</a> SpanningTreeUtilities::cull </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Prepare for class destruction </p>

<p>Reimplemented from <a class="el" href="classclassbase.html#a2a773ec2f42d047e0ce250553f44d831">classbase</a>.</p>

</div>
</div>
<a class="anchor" id="ab7a5aa399f7d8ded37548dafffb99188"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SpanningTreeUtilities::DoOneToAllButSender </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const parameterlist &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>omit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send a message from this server to all but one other, local or remote </p>

</div>
</div>
<a class="anchor" id="a598276cec12ffe954a28f0a5ca49deb4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SpanningTreeUtilities::DoOneToAllButSender </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const parameterlist &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>omit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send a message from this server to all but one other, local or remote </p>

</div>
</div>
<a class="anchor" id="acd89919a2ba8eb17e6b1aa546b2bfb2b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SpanningTreeUtilities::DoOneToAllButSenderRaw </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>omit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespaceirc.html#ac483e0dbe45f845c6e0b2242139b4f61">irc::string</a> &amp;&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const parameterlist &amp;&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send a message from this server to all others, without doing any processing on the command (e.g. send it as-is with colons and all) </p>

</div>
</div>
<a class="anchor" id="aeec63a67910a1e282eca6df48e7a9f26"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SpanningTreeUtilities::DoOneToMany </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const parameterlist &amp;&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send a message from this server to all others </p>

</div>
</div>
<a class="anchor" id="a9a06f91e80ace22f72fd3a21b771e4f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SpanningTreeUtilities::DoOneToMany </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const parameterlist &amp;&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send a message from this server to all others </p>

</div>
</div>
<a class="anchor" id="aa655b2933d521242f9a56fd19563ab56"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SpanningTreeUtilities::DoOneToOne </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const parameterlist &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send a message from this server to one other local or remote </p>

</div>
</div>
<a class="anchor" id="a941756e0eefd49ea183f08e0d83383eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_link.html">Link</a> * SpanningTreeUtilities::FindLink </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find a link tag from a server name </p>

</div>
</div>
<a class="anchor" id="ad905bfd560161c9bb778c8b4e38f48d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_tree_server.html">TreeServer</a> * SpanningTreeUtilities::FindServer </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>ServerName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find a server by name</p>
<p>Yay for fast searches! This is hundreds of times faster than recursion or even scanning a linked list, especially when there are more than a few servers to deal with. (read as: lots). </p>

</div>
</div>
<a class="anchor" id="a5e94298ad917c8b19c622f245e2291a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_tree_server.html">TreeServer</a> * SpanningTreeUtilities::FindServerID </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find server by SID </p>

</div>
</div>
<a class="anchor" id="aa3bea304a171eb8dead5cb668ad0aae6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_tree_server.html">TreeServer</a> * SpanningTreeUtilities::FindServerMask </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>ServerName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find a server by glob mask</p>
<p>Find the first server matching a given glob mask. Theres no find-using-glob method of hash_map [awwww :-(] so instead, we iterate over the list using an iterator and match each one until we get a hit. Yes its slow, deal with it. </p>

</div>
</div>
<a class="anchor" id="a31aa1b3e83218192abb5b700b698670e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpanningTreeUtilities::GetListOfServersForChannel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_channel.html">Channel</a> *&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TreeServerList &amp;&#160;</td>
          <td class="paramname"><em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const CUList &amp;&#160;</td>
          <td class="paramname"><em>exempt_list</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compile a list of servers which contain members of channel c </p>

</div>
</div>
<a class="anchor" id="af939849f718a0fe013e9e2c96043bd27"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SpanningTreeUtilities::IsServer </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>ServerName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns true if this is a server name we recognise </p>

</div>
</div>
<a class="anchor" id="a39368ab6f03f55c62a29e8959a47c8fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpanningTreeUtilities::ReadConfiguration </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read the spanningtree module's tags from the config file </p>

</div>
</div>
<a class="anchor" id="a9a8e2f9acd652f02b5d607920c5c07f6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpanningTreeUtilities::RefreshIPCache </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Refresh the IP cache used for allowing inbound connections </p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a02b7dfeb39d9cd29e565c5bfb0acadef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SpanningTreeUtilities::AllowOptCommon</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allow modules marked as VF_OPTCOMMON to be mismatched when linking </p>

</div>
</div>
<a class="anchor" id="ad504d7ee5f15461d32c397af2178af10"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SpanningTreeUtilities::AnnounceTSChange</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Announce TS changes to channels on merge </p>

</div>
</div>
<a class="anchor" id="a4ca00bef3e8b15483f59a05619b31943"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classreference.html">reference</a>&lt;<a class="el" href="class_autoconnect.html">Autoconnect</a>&gt; &gt; SpanningTreeUtilities::AutoconnectBlocks</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Holds the data from the &lt;autoconnect&gt; tags in the conf </p>

</div>
</div>
<a class="anchor" id="ab22a76e135bd9c3f2ac17a4334df645d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="namespaceirc.html#ac483e0dbe45f845c6e0b2242139b4f61">irc::string</a>,<a class="el" href="class_tree_socket.html">TreeSocket</a>*&gt; SpanningTreeUtilities::burstingserverlist</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Hash of servers currently bursting but not initialized as connected </p>

</div>
</div>
<a class="anchor" id="ae83d159d3f474930c493fa95a5158cdc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SpanningTreeUtilities::ChallengeResponse</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>True (default) if we are to use challenge-response HMAC to authenticate passwords.</p>
<p>NOTE: This defaults to on, but should be turned off if you are linking to an older version of inspircd. </p>

</div>
</div>
<a class="anchor" id="a9aea92b8c85a44c4cb27ac4a93d92cbc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_module_spanning_tree.html">ModuleSpanningTree</a>* SpanningTreeUtilities::Creator</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creator module </p>

</div>
</div>
<a class="anchor" id="ad525a8a94f220964ce87eb9ab8a268c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SpanningTreeUtilities::FlatLinks</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Flatten links and /MAP for non-opers </p>

</div>
</div>
<a class="anchor" id="a86d3d04ed943d233d4d4d59cfc97d314"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SpanningTreeUtilities::HideULines</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Hide U-Lined servers in /MAP and /LINKS </p>

</div>
</div>
<a class="anchor" id="ad094decf98db96e052b355508aa474c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classreference.html">reference</a>&lt;<a class="el" href="class_link.html">Link</a>&gt; &gt; SpanningTreeUtilities::LinkBlocks</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Holds the data from the &lt;link&gt; tags in the conf </p>

</div>
</div>
<a class="anchor" id="a231eda3304ae4f1ba39578b89d0bb181"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SpanningTreeUtilities::PingFreq</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Ping frequency of server to server links </p>

</div>
</div>
<a class="anchor" id="a0f6701d1cf77a8bacec0cab4fd509589"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SpanningTreeUtilities::quiet_bursts</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Make snomasks +CQ quiet during bursts and splits </p>

</div>
</div>
<a class="anchor" id="ac460e9a5ac250d5c0432fd765b4859e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">server_hash SpanningTreeUtilities::serverlist</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Hash of currently connected servers by name </p>

</div>
</div>
<a class="anchor" id="aff74a2b5670e0dc9f04819aa714c1a1c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">server_hash SpanningTreeUtilities::sidlist</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Hash of currently known server ids </p>

</div>
</div>
<a class="anchor" id="a7f2a1475b601979189b3bd938f237e21"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="class_tree_socket.html">TreeSocket</a>*, std::pair&lt;std::string, int&gt; &gt; SpanningTreeUtilities::timeoutlist</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>List of all outgoing sockets and their timeouts </p>

</div>
</div>
<a class="anchor" id="a7b581f72a0b90799e899084d9e31a506"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_tree_server.html">TreeServer</a>* SpanningTreeUtilities::TreeRoot</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This variable represents the root of the server tree </p>

</div>
</div>
<a class="anchor" id="ac230d6bd52727a878dd3bf6f949baf30"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::string&gt; SpanningTreeUtilities::ValidIPs</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>IPs allowed to link to us </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/modules/m_spanningtree/<a class="el" href="utils_8h_source.html">utils.h</a></li>
<li>src/modules/m_spanningtree/postcommand.cpp</li>
<li>src/modules/m_spanningtree/utils.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1
</small></address>
</body>
</html>
